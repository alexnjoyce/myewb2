{% extends "champ/base.html" %}

{% load i18n %}

{% block champ_body %}

<style>
	table {
		border: 1px solid #a0a0a0;
		width: 100%;
	}
	th, td {
		border: 1px solid #a0a0a0;
		padding: 5px 25px 5px 10px;
		vertical-align: top;
	}
	th {
		background: #d0d0d0;
		text-align: left;
		padding-left: 50px;
		font-size: 14px;
	}
	.edit {
		font-size: 12px;
		font-weight: normal;
		margin-left: 15px;
	}
</style>

<h2>{{ group.name }}</h2>
<h3>{{ activity.name }}</h3>

<p>
{% if activity.confirmed %}
	This activity has been confirmed.
{% else %}
	{% if is_group_admin %}
		{% if activity.can_be_confirmed %}
			<a href="{% url champ_confirm_activity group.slug activity.pk %}">
				<span style="font-size: 16px; background-color: yellow; color: green;">Click here to confirm this activity</span>
			</a>
		{% else %}
			<span style="color: red;">Some values are missing - cannot confirm this activity yet</span>
		{% endif %}
	{% else %}
		This activity has not been confirmed.
	{% endif %}
{% endif %}
</p>

<table>
	<tr>
		<th colspan="2">
			Basic Info
			{% if not activity.confirmed and is_group_admin %}
				<span class="edit">
						(<a href="{% url champ_edit_activity group.slug activity.pk %}">edit</a>)
				</span>
			{% endif %}
		</th>
	</tr>
	
	<tr>
		<td style="width: 25%;"><strong>Chapter</strong></td>
		<td>{{ activity.group.name }}</td>
	</tr>
	<tr>
		<td><strong>Activity name</strong></td>
		<td>{{ activity.name }}</td>
	</tr>
	<tr>
		<td><strong>Activity date</strong></td>
		<td>{{ activity.date|date }}</td>
	</tr>
	<tr>
		<td><strong>Record Created</strong></td>
		<td>
			by <a href="{% url profile_detail activity.creator.username %}">{{ activity.creator.visible_name }}</a><br/>
			on {{ activity.created_date|date }}
		</td>
	</tr>
	<tr>
		<td><strong>Record last edited</strong></td>
		<td>
			by <a href="{% url profile_detail activity.editor.username %}">{{ activity.editor.visible_name }}</a><br/>
			on {{ activity.modified_date|date }}
		</td>
	</tr>
	<tr>
		<td><strong># of Volunteers</strong></td>
		<td>{{ activity.numVolunteers }}</td>
	</tr>
	<tr>
		<td><strong>Person-hours of prep</strong></td>
		<td>{{ activity.prepHours }}</td>
	</tr>
	<tr>
		<td><strong>Person-hours of execution</strong></td>
		<td>{{ activity.execHours }}</td>
	</tr>
	
	<tr>
		<td colspan="2">&nbsp;</td>
	</tr>
	
	{% for metric in activity.get_metrics %}
		{% include "champ/metrics.html" %}
	{% endfor %}
	
</table>


{% endblock %}

{% block toolbar_left %}
	{% if is_admin %}
        <div class="toolbarheader bkgd" id="box-activity-delete">{% trans "Delete" %}</div>
        <div class="toolbarcontent">
        	<a href="{% url champ_activity_delete group.slug activity.pk %}">Delete this activity</a>
        </div>
    {% endif %}
        
    {{ block.super }}
{% endblock %}